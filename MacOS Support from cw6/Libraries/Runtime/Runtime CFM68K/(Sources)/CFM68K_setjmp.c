/* *	File:		CFM68K_setjmp.c *				©1993-1995 metrowerks Inc. All rights reserved *	Author:		Andreas Hommel (modified by Berardino Baratta) * *	Content:	setjmp/longjmp routines for CFM68K support ... * */#include <setjmp.h>#include <stddef.h>/* #include <MWException.h>	ra 990322 removed per Andreas' instructions */#include <Traps.h>asm int setjmp(jmp_buf env){	movea.l	(sp)+,a1	movea.l	(sp)+,a0	movem.l	d3-d7/a1-a7,4(a0)	moveq	#0,d0	jmp		(a1)}asm void longjmp(jmp_buf env,int val){	move.l	(a1), a5	addq.l	#4,sp	movea.l	(sp)+,a0	move.l	(sp),d0				/* val is a 4 byte value */	bne.s	l0	moveq	#1,d0l0:	movem.l	4(a0),d3-d7/a1-a7	jmp		(a1)}